//
// Autogenerated by Thrift Compiler (0.10.0)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
"use strict";

var thrift = require('thrift');
var Thrift = thrift.Thrift;
var Q = thrift.Q;

var wptypes_ttypes = require('./wptypes_types');


var ttypes = require('./wpwithin_types');
//HELPER FUNCTIONS AND STRUCTURES

var WPWithin_setup_args = function(args) {
  this.name = null;
  this.description = null;
  if (args) {
    if (args.name !== undefined && args.name !== null) {
      this.name = args.name;
    }
    if (args.description !== undefined && args.description !== null) {
      this.description = args.description;
    }
  }
};
WPWithin_setup_args.prototype = {};
WPWithin_setup_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.name = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.description = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_setup_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_setup_args');
  if (this.name !== null && this.name !== undefined) {
    output.writeFieldBegin('name', Thrift.Type.STRING, 1);
    output.writeString(this.name);
    output.writeFieldEnd();
  }
  if (this.description !== null && this.description !== undefined) {
    output.writeFieldBegin('description', Thrift.Type.STRING, 2);
    output.writeString(this.description);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_setup_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_setup_result.prototype = {};
WPWithin_setup_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_setup_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_setup_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_addService_args = function(args) {
  this.svc = null;
  if (args) {
    if (args.svc !== undefined && args.svc !== null) {
      this.svc = new wptypes_ttypes.Service(args.svc);
    }
  }
};
WPWithin_addService_args.prototype = {};
WPWithin_addService_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.svc = new wptypes_ttypes.Service();
        this.svc.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_addService_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_addService_args');
  if (this.svc !== null && this.svc !== undefined) {
    output.writeFieldBegin('svc', Thrift.Type.STRUCT, 1);
    this.svc.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_addService_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_addService_result.prototype = {};
WPWithin_addService_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_addService_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_addService_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_removeService_args = function(args) {
  this.svc = null;
  if (args) {
    if (args.svc !== undefined && args.svc !== null) {
      this.svc = new wptypes_ttypes.Service(args.svc);
    }
  }
};
WPWithin_removeService_args.prototype = {};
WPWithin_removeService_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.svc = new wptypes_ttypes.Service();
        this.svc.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_removeService_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_removeService_args');
  if (this.svc !== null && this.svc !== undefined) {
    output.writeFieldBegin('svc', Thrift.Type.STRUCT, 1);
    this.svc.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_removeService_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_removeService_result.prototype = {};
WPWithin_removeService_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_removeService_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_removeService_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_initConsumer_args = function(args) {
  this.scheme = null;
  this.hostname = null;
  this.port = null;
  this.urlPrefix = null;
  this.clientID = null;
  this.hceCard = null;
  this.pspConfig = null;
  if (args) {
    if (args.scheme !== undefined && args.scheme !== null) {
      this.scheme = args.scheme;
    }
    if (args.hostname !== undefined && args.hostname !== null) {
      this.hostname = args.hostname;
    }
    if (args.port !== undefined && args.port !== null) {
      this.port = args.port;
    }
    if (args.urlPrefix !== undefined && args.urlPrefix !== null) {
      this.urlPrefix = args.urlPrefix;
    }
    if (args.clientID !== undefined && args.clientID !== null) {
      this.clientID = args.clientID;
    }
    if (args.hceCard !== undefined && args.hceCard !== null) {
      this.hceCard = new wptypes_ttypes.HCECard(args.hceCard);
    }
    if (args.pspConfig !== undefined && args.pspConfig !== null) {
      this.pspConfig = Thrift.copyMap(args.pspConfig, [null]);
    }
  }
};
WPWithin_initConsumer_args.prototype = {};
WPWithin_initConsumer_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.scheme = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.hostname = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.port = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.urlPrefix = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.clientID = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRUCT) {
        this.hceCard = new wptypes_ttypes.HCECard();
        this.hceCard.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 7:
      if (ftype == Thrift.Type.MAP) {
        var _size0 = 0;
        var _rtmp34;
        this.pspConfig = {};
        var _ktype1 = 0;
        var _vtype2 = 0;
        _rtmp34 = input.readMapBegin();
        _ktype1 = _rtmp34.ktype;
        _vtype2 = _rtmp34.vtype;
        _size0 = _rtmp34.size;
        for (var _i5 = 0; _i5 < _size0; ++_i5)
        {
          var key6 = null;
          var val7 = null;
          key6 = input.readString();
          val7 = input.readString();
          this.pspConfig[key6] = val7;
        }
        input.readMapEnd();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_initConsumer_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_initConsumer_args');
  if (this.scheme !== null && this.scheme !== undefined) {
    output.writeFieldBegin('scheme', Thrift.Type.STRING, 1);
    output.writeString(this.scheme);
    output.writeFieldEnd();
  }
  if (this.hostname !== null && this.hostname !== undefined) {
    output.writeFieldBegin('hostname', Thrift.Type.STRING, 2);
    output.writeString(this.hostname);
    output.writeFieldEnd();
  }
  if (this.port !== null && this.port !== undefined) {
    output.writeFieldBegin('port', Thrift.Type.I32, 3);
    output.writeI32(this.port);
    output.writeFieldEnd();
  }
  if (this.urlPrefix !== null && this.urlPrefix !== undefined) {
    output.writeFieldBegin('urlPrefix', Thrift.Type.STRING, 4);
    output.writeString(this.urlPrefix);
    output.writeFieldEnd();
  }
  if (this.clientID !== null && this.clientID !== undefined) {
    output.writeFieldBegin('clientID', Thrift.Type.STRING, 5);
    output.writeString(this.clientID);
    output.writeFieldEnd();
  }
  if (this.hceCard !== null && this.hceCard !== undefined) {
    output.writeFieldBegin('hceCard', Thrift.Type.STRUCT, 6);
    this.hceCard.write(output);
    output.writeFieldEnd();
  }
  if (this.pspConfig !== null && this.pspConfig !== undefined) {
    output.writeFieldBegin('pspConfig', Thrift.Type.MAP, 7);
    output.writeMapBegin(Thrift.Type.STRING, Thrift.Type.STRING, Thrift.objectLength(this.pspConfig));
    for (var kiter8 in this.pspConfig)
    {
      if (this.pspConfig.hasOwnProperty(kiter8))
      {
        var viter9 = this.pspConfig[kiter8];
        output.writeString(kiter8);
        output.writeString(viter9);
      }
    }
    output.writeMapEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_initConsumer_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_initConsumer_result.prototype = {};
WPWithin_initConsumer_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_initConsumer_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_initConsumer_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_initProducer_args = function(args) {
  this.pspConfig = null;
  if (args) {
    if (args.pspConfig !== undefined && args.pspConfig !== null) {
      this.pspConfig = Thrift.copyMap(args.pspConfig, [null]);
    }
  }
};
WPWithin_initProducer_args.prototype = {};
WPWithin_initProducer_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.MAP) {
        var _size10 = 0;
        var _rtmp314;
        this.pspConfig = {};
        var _ktype11 = 0;
        var _vtype12 = 0;
        _rtmp314 = input.readMapBegin();
        _ktype11 = _rtmp314.ktype;
        _vtype12 = _rtmp314.vtype;
        _size10 = _rtmp314.size;
        for (var _i15 = 0; _i15 < _size10; ++_i15)
        {
          var key16 = null;
          var val17 = null;
          key16 = input.readString();
          val17 = input.readString();
          this.pspConfig[key16] = val17;
        }
        input.readMapEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_initProducer_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_initProducer_args');
  if (this.pspConfig !== null && this.pspConfig !== undefined) {
    output.writeFieldBegin('pspConfig', Thrift.Type.MAP, 1);
    output.writeMapBegin(Thrift.Type.STRING, Thrift.Type.STRING, Thrift.objectLength(this.pspConfig));
    for (var kiter18 in this.pspConfig)
    {
      if (this.pspConfig.hasOwnProperty(kiter18))
      {
        var viter19 = this.pspConfig[kiter18];
        output.writeString(kiter18);
        output.writeString(viter19);
      }
    }
    output.writeMapEnd();
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_initProducer_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_initProducer_result.prototype = {};
WPWithin_initProducer_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_initProducer_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_initProducer_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_getDevice_args = function(args) {
};
WPWithin_getDevice_args.prototype = {};
WPWithin_getDevice_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_getDevice_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_getDevice_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_getDevice_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.Device(args.success);
    }
  }
};
WPWithin_getDevice_result.prototype = {};
WPWithin_getDevice_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.Device();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_getDevice_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_getDevice_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_startServiceBroadcast_args = function(args) {
  this.timeoutMillis = null;
  if (args) {
    if (args.timeoutMillis !== undefined && args.timeoutMillis !== null) {
      this.timeoutMillis = args.timeoutMillis;
    }
  }
};
WPWithin_startServiceBroadcast_args.prototype = {};
WPWithin_startServiceBroadcast_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.timeoutMillis = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_startServiceBroadcast_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_startServiceBroadcast_args');
  if (this.timeoutMillis !== null && this.timeoutMillis !== undefined) {
    output.writeFieldBegin('timeoutMillis', Thrift.Type.I32, 1);
    output.writeI32(this.timeoutMillis);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_startServiceBroadcast_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_startServiceBroadcast_result.prototype = {};
WPWithin_startServiceBroadcast_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_startServiceBroadcast_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_startServiceBroadcast_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_stopServiceBroadcast_args = function(args) {
};
WPWithin_stopServiceBroadcast_args.prototype = {};
WPWithin_stopServiceBroadcast_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_stopServiceBroadcast_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_stopServiceBroadcast_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_stopServiceBroadcast_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_stopServiceBroadcast_result.prototype = {};
WPWithin_stopServiceBroadcast_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_stopServiceBroadcast_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_stopServiceBroadcast_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_deviceDiscovery_args = function(args) {
  this.timeoutMillis = null;
  if (args) {
    if (args.timeoutMillis !== undefined && args.timeoutMillis !== null) {
      this.timeoutMillis = args.timeoutMillis;
    }
  }
};
WPWithin_deviceDiscovery_args.prototype = {};
WPWithin_deviceDiscovery_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.timeoutMillis = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_deviceDiscovery_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_deviceDiscovery_args');
  if (this.timeoutMillis !== null && this.timeoutMillis !== undefined) {
    output.writeFieldBegin('timeoutMillis', Thrift.Type.I32, 1);
    output.writeI32(this.timeoutMillis);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_deviceDiscovery_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [wptypes_ttypes.ServiceMessage]);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_deviceDiscovery_result.prototype = {};
WPWithin_deviceDiscovery_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.SET) {
        var _size20 = 0;
        var _rtmp324;
        this.success = [];
        var _etype23 = 0;
        _rtmp324 = input.readSetBegin();
        _etype23 = _rtmp324.etype;
        _size20 = _rtmp324.size;
        for (var _i25 = 0; _i25 < _size20; ++_i25)
        {
          var elem26 = null;
          elem26 = new wptypes_ttypes.ServiceMessage();
          elem26.read(input);
          this.success.push(elem26);
        }
        input.readSetEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_deviceDiscovery_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_deviceDiscovery_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.SET, 0);
    output.writeSetBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter27 in this.success)
    {
      if (this.success.hasOwnProperty(iter27))
      {
        iter27 = this.success[iter27];
        iter27.write(output);
      }
    }
    output.writeSetEnd();
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_searchForDevice_args = function(args) {
  this.timeoutMillis = null;
  this.deviceName = null;
  if (args) {
    if (args.timeoutMillis !== undefined && args.timeoutMillis !== null) {
      this.timeoutMillis = args.timeoutMillis;
    }
    if (args.deviceName !== undefined && args.deviceName !== null) {
      this.deviceName = args.deviceName;
    }
  }
};
WPWithin_searchForDevice_args.prototype = {};
WPWithin_searchForDevice_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.timeoutMillis = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.deviceName = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_searchForDevice_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_searchForDevice_args');
  if (this.timeoutMillis !== null && this.timeoutMillis !== undefined) {
    output.writeFieldBegin('timeoutMillis', Thrift.Type.I32, 1);
    output.writeI32(this.timeoutMillis);
    output.writeFieldEnd();
  }
  if (this.deviceName !== null && this.deviceName !== undefined) {
    output.writeFieldBegin('deviceName', Thrift.Type.STRING, 2);
    output.writeString(this.deviceName);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_searchForDevice_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.ServiceMessage(args.success);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_searchForDevice_result.prototype = {};
WPWithin_searchForDevice_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.ServiceMessage();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_searchForDevice_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_searchForDevice_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_requestServices_args = function(args) {
};
WPWithin_requestServices_args.prototype = {};
WPWithin_requestServices_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_requestServices_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_requestServices_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_requestServices_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [wptypes_ttypes.ServiceDetails]);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_requestServices_result.prototype = {};
WPWithin_requestServices_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.SET) {
        var _size28 = 0;
        var _rtmp332;
        this.success = [];
        var _etype31 = 0;
        _rtmp332 = input.readSetBegin();
        _etype31 = _rtmp332.etype;
        _size28 = _rtmp332.size;
        for (var _i33 = 0; _i33 < _size28; ++_i33)
        {
          var elem34 = null;
          elem34 = new wptypes_ttypes.ServiceDetails();
          elem34.read(input);
          this.success.push(elem34);
        }
        input.readSetEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_requestServices_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_requestServices_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.SET, 0);
    output.writeSetBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter35 in this.success)
    {
      if (this.success.hasOwnProperty(iter35))
      {
        iter35 = this.success[iter35];
        iter35.write(output);
      }
    }
    output.writeSetEnd();
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_getServicePrices_args = function(args) {
  this.serviceId = null;
  if (args) {
    if (args.serviceId !== undefined && args.serviceId !== null) {
      this.serviceId = args.serviceId;
    }
  }
};
WPWithin_getServicePrices_args.prototype = {};
WPWithin_getServicePrices_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.serviceId = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_getServicePrices_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_getServicePrices_args');
  if (this.serviceId !== null && this.serviceId !== undefined) {
    output.writeFieldBegin('serviceId', Thrift.Type.I32, 1);
    output.writeI32(this.serviceId);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_getServicePrices_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [wptypes_ttypes.Price]);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_getServicePrices_result.prototype = {};
WPWithin_getServicePrices_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.SET) {
        var _size36 = 0;
        var _rtmp340;
        this.success = [];
        var _etype39 = 0;
        _rtmp340 = input.readSetBegin();
        _etype39 = _rtmp340.etype;
        _size36 = _rtmp340.size;
        for (var _i41 = 0; _i41 < _size36; ++_i41)
        {
          var elem42 = null;
          elem42 = new wptypes_ttypes.Price();
          elem42.read(input);
          this.success.push(elem42);
        }
        input.readSetEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_getServicePrices_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_getServicePrices_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.SET, 0);
    output.writeSetBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter43 in this.success)
    {
      if (this.success.hasOwnProperty(iter43))
      {
        iter43 = this.success[iter43];
        iter43.write(output);
      }
    }
    output.writeSetEnd();
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_selectService_args = function(args) {
  this.serviceId = null;
  this.numberOfUnits = null;
  this.priceId = null;
  if (args) {
    if (args.serviceId !== undefined && args.serviceId !== null) {
      this.serviceId = args.serviceId;
    }
    if (args.numberOfUnits !== undefined && args.numberOfUnits !== null) {
      this.numberOfUnits = args.numberOfUnits;
    }
    if (args.priceId !== undefined && args.priceId !== null) {
      this.priceId = args.priceId;
    }
  }
};
WPWithin_selectService_args.prototype = {};
WPWithin_selectService_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.serviceId = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.numberOfUnits = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.priceId = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_selectService_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_selectService_args');
  if (this.serviceId !== null && this.serviceId !== undefined) {
    output.writeFieldBegin('serviceId', Thrift.Type.I32, 1);
    output.writeI32(this.serviceId);
    output.writeFieldEnd();
  }
  if (this.numberOfUnits !== null && this.numberOfUnits !== undefined) {
    output.writeFieldBegin('numberOfUnits', Thrift.Type.I32, 2);
    output.writeI32(this.numberOfUnits);
    output.writeFieldEnd();
  }
  if (this.priceId !== null && this.priceId !== undefined) {
    output.writeFieldBegin('priceId', Thrift.Type.I32, 3);
    output.writeI32(this.priceId);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_selectService_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.TotalPriceResponse(args.success);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_selectService_result.prototype = {};
WPWithin_selectService_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.TotalPriceResponse();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_selectService_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_selectService_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_makePayment_args = function(args) {
  this.request = null;
  if (args) {
    if (args.request !== undefined && args.request !== null) {
      this.request = new wptypes_ttypes.TotalPriceResponse(args.request);
    }
  }
};
WPWithin_makePayment_args.prototype = {};
WPWithin_makePayment_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.request = new wptypes_ttypes.TotalPriceResponse();
        this.request.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_makePayment_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_makePayment_args');
  if (this.request !== null && this.request !== undefined) {
    output.writeFieldBegin('request', Thrift.Type.STRUCT, 1);
    this.request.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_makePayment_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.PaymentResponse(args.success);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_makePayment_result.prototype = {};
WPWithin_makePayment_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.PaymentResponse();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_makePayment_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_makePayment_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_beginServiceDelivery_args = function(args) {
  this.serviceID = null;
  this.serviceDeliveryToken = null;
  this.unitsToSupply = null;
  if (args) {
    if (args.serviceID !== undefined && args.serviceID !== null) {
      this.serviceID = args.serviceID;
    }
    if (args.serviceDeliveryToken !== undefined && args.serviceDeliveryToken !== null) {
      this.serviceDeliveryToken = new wptypes_ttypes.ServiceDeliveryToken(args.serviceDeliveryToken);
    }
    if (args.unitsToSupply !== undefined && args.unitsToSupply !== null) {
      this.unitsToSupply = args.unitsToSupply;
    }
  }
};
WPWithin_beginServiceDelivery_args.prototype = {};
WPWithin_beginServiceDelivery_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.serviceID = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.serviceDeliveryToken = new wptypes_ttypes.ServiceDeliveryToken();
        this.serviceDeliveryToken.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.unitsToSupply = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_beginServiceDelivery_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_beginServiceDelivery_args');
  if (this.serviceID !== null && this.serviceID !== undefined) {
    output.writeFieldBegin('serviceID', Thrift.Type.I32, 1);
    output.writeI32(this.serviceID);
    output.writeFieldEnd();
  }
  if (this.serviceDeliveryToken !== null && this.serviceDeliveryToken !== undefined) {
    output.writeFieldBegin('serviceDeliveryToken', Thrift.Type.STRUCT, 2);
    this.serviceDeliveryToken.write(output);
    output.writeFieldEnd();
  }
  if (this.unitsToSupply !== null && this.unitsToSupply !== undefined) {
    output.writeFieldBegin('unitsToSupply', Thrift.Type.I32, 3);
    output.writeI32(this.unitsToSupply);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_beginServiceDelivery_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.ServiceDeliveryToken(args.success);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_beginServiceDelivery_result.prototype = {};
WPWithin_beginServiceDelivery_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.ServiceDeliveryToken();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_beginServiceDelivery_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_beginServiceDelivery_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_endServiceDelivery_args = function(args) {
  this.serviceID = null;
  this.serviceDeliveryToken = null;
  this.unitsReceived = null;
  if (args) {
    if (args.serviceID !== undefined && args.serviceID !== null) {
      this.serviceID = args.serviceID;
    }
    if (args.serviceDeliveryToken !== undefined && args.serviceDeliveryToken !== null) {
      this.serviceDeliveryToken = new wptypes_ttypes.ServiceDeliveryToken(args.serviceDeliveryToken);
    }
    if (args.unitsReceived !== undefined && args.unitsReceived !== null) {
      this.unitsReceived = args.unitsReceived;
    }
  }
};
WPWithin_endServiceDelivery_args.prototype = {};
WPWithin_endServiceDelivery_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.serviceID = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.serviceDeliveryToken = new wptypes_ttypes.ServiceDeliveryToken();
        this.serviceDeliveryToken.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.unitsReceived = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_endServiceDelivery_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_endServiceDelivery_args');
  if (this.serviceID !== null && this.serviceID !== undefined) {
    output.writeFieldBegin('serviceID', Thrift.Type.I32, 1);
    output.writeI32(this.serviceID);
    output.writeFieldEnd();
  }
  if (this.serviceDeliveryToken !== null && this.serviceDeliveryToken !== undefined) {
    output.writeFieldBegin('serviceDeliveryToken', Thrift.Type.STRUCT, 2);
    this.serviceDeliveryToken.write(output);
    output.writeFieldEnd();
  }
  if (this.unitsReceived !== null && this.unitsReceived !== undefined) {
    output.writeFieldBegin('unitsReceived', Thrift.Type.I32, 3);
    output.writeI32(this.unitsReceived);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_endServiceDelivery_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.ServiceDeliveryToken(args.success);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
WPWithin_endServiceDelivery_result.prototype = {};
WPWithin_endServiceDelivery_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.ServiceDeliveryToken();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_endServiceDelivery_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_endServiceDelivery_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_CloseRPCAgent_args = function(args) {
};
WPWithin_CloseRPCAgent_args.prototype = {};
WPWithin_CloseRPCAgent_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_CloseRPCAgent_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_CloseRPCAgent_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithin_CloseRPCAgent_result = function(args) {
};
WPWithin_CloseRPCAgent_result.prototype = {};
WPWithin_CloseRPCAgent_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

WPWithin_CloseRPCAgent_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_CloseRPCAgent_result');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

var WPWithinClient = exports.Client = function(output, pClass) {
    this.output = output;
    this.pClass = pClass;
    this._seqid = 0;
    this._reqs = {};
};
WPWithinClient.prototype = {};
WPWithinClient.prototype.seqid = function() { return this._seqid; };
WPWithinClient.prototype.new_seqid = function() { return this._seqid += 1; };
WPWithinClient.prototype.setup = function(name, description, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_setup(name, description);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_setup(name, description);
  }
};

WPWithinClient.prototype.send_setup = function(name, description) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('setup', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_setup_args();
  args.name = name;
  args.description = description;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_setup = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_setup_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null);
};
WPWithinClient.prototype.addService = function(svc, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_addService(svc);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_addService(svc);
  }
};

WPWithinClient.prototype.send_addService = function(svc) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('addService', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_addService_args();
  args.svc = svc;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_addService = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_addService_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null);
};
WPWithinClient.prototype.removeService = function(svc, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_removeService(svc);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_removeService(svc);
  }
};

WPWithinClient.prototype.send_removeService = function(svc) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('removeService', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_removeService_args();
  args.svc = svc;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_removeService = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_removeService_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null);
};
WPWithinClient.prototype.initConsumer = function(scheme, hostname, port, urlPrefix, clientID, hceCard, pspConfig, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_initConsumer(scheme, hostname, port, urlPrefix, clientID, hceCard, pspConfig);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_initConsumer(scheme, hostname, port, urlPrefix, clientID, hceCard, pspConfig);
  }
};

WPWithinClient.prototype.send_initConsumer = function(scheme, hostname, port, urlPrefix, clientID, hceCard, pspConfig) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('initConsumer', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_initConsumer_args();
  args.scheme = scheme;
  args.hostname = hostname;
  args.port = port;
  args.urlPrefix = urlPrefix;
  args.clientID = clientID;
  args.hceCard = hceCard;
  args.pspConfig = pspConfig;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_initConsumer = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_initConsumer_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null);
};
WPWithinClient.prototype.initProducer = function(pspConfig, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_initProducer(pspConfig);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_initProducer(pspConfig);
  }
};

WPWithinClient.prototype.send_initProducer = function(pspConfig) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('initProducer', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_initProducer_args();
  args.pspConfig = pspConfig;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_initProducer = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_initProducer_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null);
};
WPWithinClient.prototype.getDevice = function(callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_getDevice();
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_getDevice();
  }
};

WPWithinClient.prototype.send_getDevice = function() {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('getDevice', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_getDevice_args();
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_getDevice = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_getDevice_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('getDevice failed: unknown result');
};
WPWithinClient.prototype.startServiceBroadcast = function(timeoutMillis, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_startServiceBroadcast(timeoutMillis);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_startServiceBroadcast(timeoutMillis);
  }
};

WPWithinClient.prototype.send_startServiceBroadcast = function(timeoutMillis) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('startServiceBroadcast', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_startServiceBroadcast_args();
  args.timeoutMillis = timeoutMillis;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_startServiceBroadcast = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_startServiceBroadcast_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null);
};
WPWithinClient.prototype.stopServiceBroadcast = function(callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_stopServiceBroadcast();
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_stopServiceBroadcast();
  }
};

WPWithinClient.prototype.send_stopServiceBroadcast = function() {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('stopServiceBroadcast', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_stopServiceBroadcast_args();
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_stopServiceBroadcast = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_stopServiceBroadcast_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null);
};
WPWithinClient.prototype.deviceDiscovery = function(timeoutMillis, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_deviceDiscovery(timeoutMillis);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_deviceDiscovery(timeoutMillis);
  }
};

WPWithinClient.prototype.send_deviceDiscovery = function(timeoutMillis) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('deviceDiscovery', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_deviceDiscovery_args();
  args.timeoutMillis = timeoutMillis;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_deviceDiscovery = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_deviceDiscovery_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('deviceDiscovery failed: unknown result');
};
WPWithinClient.prototype.searchForDevice = function(timeoutMillis, deviceName, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_searchForDevice(timeoutMillis, deviceName);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_searchForDevice(timeoutMillis, deviceName);
  }
};

WPWithinClient.prototype.send_searchForDevice = function(timeoutMillis, deviceName) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('searchForDevice', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_searchForDevice_args();
  args.timeoutMillis = timeoutMillis;
  args.deviceName = deviceName;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_searchForDevice = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_searchForDevice_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('searchForDevice failed: unknown result');
};
WPWithinClient.prototype.requestServices = function(callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_requestServices();
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_requestServices();
  }
};

WPWithinClient.prototype.send_requestServices = function() {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('requestServices', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_requestServices_args();
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_requestServices = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_requestServices_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('requestServices failed: unknown result');
};
WPWithinClient.prototype.getServicePrices = function(serviceId, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_getServicePrices(serviceId);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_getServicePrices(serviceId);
  }
};

WPWithinClient.prototype.send_getServicePrices = function(serviceId) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('getServicePrices', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_getServicePrices_args();
  args.serviceId = serviceId;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_getServicePrices = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_getServicePrices_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('getServicePrices failed: unknown result');
};
WPWithinClient.prototype.selectService = function(serviceId, numberOfUnits, priceId, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_selectService(serviceId, numberOfUnits, priceId);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_selectService(serviceId, numberOfUnits, priceId);
  }
};

WPWithinClient.prototype.send_selectService = function(serviceId, numberOfUnits, priceId) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('selectService', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_selectService_args();
  args.serviceId = serviceId;
  args.numberOfUnits = numberOfUnits;
  args.priceId = priceId;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_selectService = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_selectService_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('selectService failed: unknown result');
};
WPWithinClient.prototype.makePayment = function(request, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_makePayment(request);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_makePayment(request);
  }
};

WPWithinClient.prototype.send_makePayment = function(request) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('makePayment', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_makePayment_args();
  args.request = request;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_makePayment = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_makePayment_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('makePayment failed: unknown result');
};
WPWithinClient.prototype.beginServiceDelivery = function(serviceID, serviceDeliveryToken, unitsToSupply, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_beginServiceDelivery(serviceID, serviceDeliveryToken, unitsToSupply);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_beginServiceDelivery(serviceID, serviceDeliveryToken, unitsToSupply);
  }
};

WPWithinClient.prototype.send_beginServiceDelivery = function(serviceID, serviceDeliveryToken, unitsToSupply) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('beginServiceDelivery', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_beginServiceDelivery_args();
  args.serviceID = serviceID;
  args.serviceDeliveryToken = serviceDeliveryToken;
  args.unitsToSupply = unitsToSupply;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_beginServiceDelivery = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_beginServiceDelivery_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('beginServiceDelivery failed: unknown result');
};
WPWithinClient.prototype.endServiceDelivery = function(serviceID, serviceDeliveryToken, unitsReceived, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_endServiceDelivery(serviceID, serviceDeliveryToken, unitsReceived);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_endServiceDelivery(serviceID, serviceDeliveryToken, unitsReceived);
  }
};

WPWithinClient.prototype.send_endServiceDelivery = function(serviceID, serviceDeliveryToken, unitsReceived) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('endServiceDelivery', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_endServiceDelivery_args();
  args.serviceID = serviceID;
  args.serviceDeliveryToken = serviceDeliveryToken;
  args.unitsReceived = unitsReceived;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_endServiceDelivery = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_endServiceDelivery_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('endServiceDelivery failed: unknown result');
};
WPWithinClient.prototype.CloseRPCAgent = function(callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_CloseRPCAgent();
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_CloseRPCAgent();
  }
};

WPWithinClient.prototype.send_CloseRPCAgent = function() {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('CloseRPCAgent', Thrift.MessageType.CALL, this.seqid());
  var args = new WPWithin_CloseRPCAgent_args();
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

WPWithinClient.prototype.recv_CloseRPCAgent = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new WPWithin_CloseRPCAgent_result();
  result.read(input);
  input.readMessageEnd();

  callback(null);
};
var WPWithinProcessor = exports.Processor = function(handler) {
  this._handler = handler;
}
;
WPWithinProcessor.prototype.process = function(input, output) {
  var r = input.readMessageBegin();
  if (this['process_' + r.fname]) {
    return this['process_' + r.fname].call(this, r.rseqid, input, output);
  } else {
    input.skip(Thrift.Type.STRUCT);
    input.readMessageEnd();
    var x = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN_METHOD, 'Unknown function ' + r.fname);
    output.writeMessageBegin(r.fname, Thrift.MessageType.EXCEPTION, r.rseqid);
    x.write(output);
    output.writeMessageEnd();
    output.flush();
  }
}
;
WPWithinProcessor.prototype.process_setup = function(seqid, input, output) {
  var args = new WPWithin_setup_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.setup.length === 2) {
    Q.fcall(this._handler.setup, args.name, args.description)
      .then(function(result) {
        var result_obj = new WPWithin_setup_result({success: result});
        output.writeMessageBegin("setup", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_setup_result(err);
          output.writeMessageBegin("setup", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("setup", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.setup(args.name, args.description, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_setup_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("setup", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("setup", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_addService = function(seqid, input, output) {
  var args = new WPWithin_addService_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.addService.length === 1) {
    Q.fcall(this._handler.addService, args.svc)
      .then(function(result) {
        var result_obj = new WPWithin_addService_result({success: result});
        output.writeMessageBegin("addService", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_addService_result(err);
          output.writeMessageBegin("addService", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("addService", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.addService(args.svc, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_addService_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("addService", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("addService", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_removeService = function(seqid, input, output) {
  var args = new WPWithin_removeService_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.removeService.length === 1) {
    Q.fcall(this._handler.removeService, args.svc)
      .then(function(result) {
        var result_obj = new WPWithin_removeService_result({success: result});
        output.writeMessageBegin("removeService", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_removeService_result(err);
          output.writeMessageBegin("removeService", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("removeService", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.removeService(args.svc, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_removeService_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("removeService", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("removeService", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_initConsumer = function(seqid, input, output) {
  var args = new WPWithin_initConsumer_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.initConsumer.length === 7) {
    Q.fcall(this._handler.initConsumer, args.scheme, args.hostname, args.port, args.urlPrefix, args.clientID, args.hceCard, args.pspConfig)
      .then(function(result) {
        var result_obj = new WPWithin_initConsumer_result({success: result});
        output.writeMessageBegin("initConsumer", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_initConsumer_result(err);
          output.writeMessageBegin("initConsumer", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("initConsumer", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.initConsumer(args.scheme, args.hostname, args.port, args.urlPrefix, args.clientID, args.hceCard, args.pspConfig, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_initConsumer_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("initConsumer", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("initConsumer", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_initProducer = function(seqid, input, output) {
  var args = new WPWithin_initProducer_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.initProducer.length === 1) {
    Q.fcall(this._handler.initProducer, args.pspConfig)
      .then(function(result) {
        var result_obj = new WPWithin_initProducer_result({success: result});
        output.writeMessageBegin("initProducer", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_initProducer_result(err);
          output.writeMessageBegin("initProducer", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("initProducer", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.initProducer(args.pspConfig, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_initProducer_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("initProducer", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("initProducer", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_getDevice = function(seqid, input, output) {
  var args = new WPWithin_getDevice_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.getDevice.length === 0) {
    Q.fcall(this._handler.getDevice)
      .then(function(result) {
        var result_obj = new WPWithin_getDevice_result({success: result});
        output.writeMessageBegin("getDevice", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("getDevice", Thrift.MessageType.EXCEPTION, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.getDevice(function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined')) {
        result_obj = new WPWithin_getDevice_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("getDevice", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("getDevice", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_startServiceBroadcast = function(seqid, input, output) {
  var args = new WPWithin_startServiceBroadcast_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.startServiceBroadcast.length === 1) {
    Q.fcall(this._handler.startServiceBroadcast, args.timeoutMillis)
      .then(function(result) {
        var result_obj = new WPWithin_startServiceBroadcast_result({success: result});
        output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_startServiceBroadcast_result(err);
          output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.startServiceBroadcast(args.timeoutMillis, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_startServiceBroadcast_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_stopServiceBroadcast = function(seqid, input, output) {
  var args = new WPWithin_stopServiceBroadcast_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.stopServiceBroadcast.length === 0) {
    Q.fcall(this._handler.stopServiceBroadcast)
      .then(function(result) {
        var result_obj = new WPWithin_stopServiceBroadcast_result({success: result});
        output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_stopServiceBroadcast_result(err);
          output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.stopServiceBroadcast(function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_stopServiceBroadcast_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_deviceDiscovery = function(seqid, input, output) {
  var args = new WPWithin_deviceDiscovery_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.deviceDiscovery.length === 1) {
    Q.fcall(this._handler.deviceDiscovery, args.timeoutMillis)
      .then(function(result) {
        var result_obj = new WPWithin_deviceDiscovery_result({success: result});
        output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_deviceDiscovery_result(err);
          output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.deviceDiscovery(args.timeoutMillis, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_deviceDiscovery_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_searchForDevice = function(seqid, input, output) {
  var args = new WPWithin_searchForDevice_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.searchForDevice.length === 2) {
    Q.fcall(this._handler.searchForDevice, args.timeoutMillis, args.deviceName)
      .then(function(result) {
        var result_obj = new WPWithin_searchForDevice_result({success: result});
        output.writeMessageBegin("searchForDevice", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_searchForDevice_result(err);
          output.writeMessageBegin("searchForDevice", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("searchForDevice", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.searchForDevice(args.timeoutMillis, args.deviceName, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_searchForDevice_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("searchForDevice", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("searchForDevice", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_requestServices = function(seqid, input, output) {
  var args = new WPWithin_requestServices_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.requestServices.length === 0) {
    Q.fcall(this._handler.requestServices)
      .then(function(result) {
        var result_obj = new WPWithin_requestServices_result({success: result});
        output.writeMessageBegin("requestServices", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_requestServices_result(err);
          output.writeMessageBegin("requestServices", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("requestServices", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.requestServices(function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_requestServices_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("requestServices", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("requestServices", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_getServicePrices = function(seqid, input, output) {
  var args = new WPWithin_getServicePrices_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.getServicePrices.length === 1) {
    Q.fcall(this._handler.getServicePrices, args.serviceId)
      .then(function(result) {
        var result_obj = new WPWithin_getServicePrices_result({success: result});
        output.writeMessageBegin("getServicePrices", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_getServicePrices_result(err);
          output.writeMessageBegin("getServicePrices", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("getServicePrices", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.getServicePrices(args.serviceId, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_getServicePrices_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("getServicePrices", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("getServicePrices", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_selectService = function(seqid, input, output) {
  var args = new WPWithin_selectService_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.selectService.length === 3) {
    Q.fcall(this._handler.selectService, args.serviceId, args.numberOfUnits, args.priceId)
      .then(function(result) {
        var result_obj = new WPWithin_selectService_result({success: result});
        output.writeMessageBegin("selectService", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_selectService_result(err);
          output.writeMessageBegin("selectService", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("selectService", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.selectService(args.serviceId, args.numberOfUnits, args.priceId, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_selectService_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("selectService", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("selectService", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_makePayment = function(seqid, input, output) {
  var args = new WPWithin_makePayment_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.makePayment.length === 1) {
    Q.fcall(this._handler.makePayment, args.request)
      .then(function(result) {
        var result_obj = new WPWithin_makePayment_result({success: result});
        output.writeMessageBegin("makePayment", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_makePayment_result(err);
          output.writeMessageBegin("makePayment", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("makePayment", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.makePayment(args.request, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_makePayment_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("makePayment", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("makePayment", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_beginServiceDelivery = function(seqid, input, output) {
  var args = new WPWithin_beginServiceDelivery_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.beginServiceDelivery.length === 3) {
    Q.fcall(this._handler.beginServiceDelivery, args.serviceID, args.serviceDeliveryToken, args.unitsToSupply)
      .then(function(result) {
        var result_obj = new WPWithin_beginServiceDelivery_result({success: result});
        output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_beginServiceDelivery_result(err);
          output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.beginServiceDelivery(args.serviceID, args.serviceDeliveryToken, args.unitsToSupply, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_beginServiceDelivery_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_endServiceDelivery = function(seqid, input, output) {
  var args = new WPWithin_endServiceDelivery_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.endServiceDelivery.length === 3) {
    Q.fcall(this._handler.endServiceDelivery, args.serviceID, args.serviceDeliveryToken, args.unitsReceived)
      .then(function(result) {
        var result_obj = new WPWithin_endServiceDelivery_result({success: result});
        output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        if (err instanceof wptypes_ttypes.Error) {
          result = new WPWithin_endServiceDelivery_result(err);
          output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.REPLY, seqid);
        } else {
          result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.endServiceDelivery(args.serviceID, args.serviceDeliveryToken, args.unitsReceived, function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined') || err instanceof wptypes_ttypes.Error) {
        result_obj = new WPWithin_endServiceDelivery_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
WPWithinProcessor.prototype.process_CloseRPCAgent = function(seqid, input, output) {
  var args = new WPWithin_CloseRPCAgent_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.CloseRPCAgent.length === 0) {
    Q.fcall(this._handler.CloseRPCAgent)
      .then(function(result) {
        var result_obj = new WPWithin_CloseRPCAgent_result({success: result});
        output.writeMessageBegin("CloseRPCAgent", Thrift.MessageType.REPLY, seqid);
        result_obj.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result;
        result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("CloseRPCAgent", Thrift.MessageType.EXCEPTION, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.CloseRPCAgent(function (err, result) {
      var result_obj;
      if ((err === null || typeof err === 'undefined')) {
        result_obj = new WPWithin_CloseRPCAgent_result((err !== null || typeof err === 'undefined') ? err : {success: result});
        output.writeMessageBegin("CloseRPCAgent", Thrift.MessageType.REPLY, seqid);
      } else {
        result_obj = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("CloseRPCAgent", Thrift.MessageType.EXCEPTION, seqid);
      }
      result_obj.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
};
